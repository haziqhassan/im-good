webpackJsonp([14],{292:function(l,n,e){"use strict";function t(l){return u["ɵvid"](0,[(l()(),u["ɵeld"](0,0,null,null,4,"div",[["class","bot-loading-container"]],null,null,null,null,null)),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵeld"](2,0,null,null,1,"ion-spinner",[["name","dots"]],[[2,"spinner-paused",null]],null,null,M.b,M.a)),u["ɵdid"](3,114688,null,0,x.a,[C.a,u.ElementRef,u.Renderer],{name:[0,"name"]},null),(l()(),u["ɵted"](-1,null,["\n  "]))],function(l,n){l(n,3,0,"dots")},function(l,n){l(n,2,0,u["ɵnov"](n,3)._paused)})}function s(l){return u["ɵvid"](0,[(l()(),u["ɵeld"](0,0,null,null,26,"div",[["class","message-wrapper"]],null,null,null,null,null)),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵeld"](2,0,null,null,21,"div",[],null,null,null,null,null)),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵeld"](4,0,null,null,2,"img",[["class","profile-pic"]],[[8,"src",4]],null,null,null,null)),u["ɵdid"](5,278528,null,0,w.h,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["ɵpod"](6,{left:0,right:1}),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵeld"](9,0,null,null,13,"div",[["class","chat-bubble"]],null,null,null,null,null)),u["ɵdid"](10,278528,null,0,w.h,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["ɵpod"](11,{left:0,right:1,"slide-left":2,"slide-right":3}),(l()(),u["ɵted"](-1,null,["\n\n        "])),(l()(),u["ɵeld"](13,0,null,null,1,"div",[["autolinker",""],["class","message"]],[[8,"innerHTML",1]],null,null,null,null)),(l()(),u["ɵted"](-1,null,["\n        "])),(l()(),u["ɵted"](-1,null,["\n\n        "])),(l()(),u["ɵeld"](16,0,null,null,5,"div",[["class","message-detail"]],null,null,null,null,null)),(l()(),u["ɵted"](-1,null,["\n          "])),(l()(),u["ɵeld"](18,0,null,null,1,"span",[["class","bold"]],null,null,null,null,null)),(l()(),u["ɵted"](19,null,["",""])),(l()(),u["ɵted"](-1,null,["\n          "])),(l()(),u["ɵted"](-1,null,["\n        "])),(l()(),u["ɵted"](-1,null,["\n\n      "])),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵted"](-1,null,["\n\n    "])),(l()(),u["ɵeld"](25,0,null,null,0,"div",[["class","cf"]],null,null,null,null,null)),(l()(),u["ɵted"](-1,null,["\n  "]))],function(l,n){l(n,5,0,"profile-pic",l(n,6,0,"Mr. Moon"===n.context.$implicit.from,"You"===n.context.$implicit.from));l(n,10,0,"chat-bubble",l(n,11,0,"Mr. Moon"===n.context.$implicit.from,"You"===n.context.$implicit.from,"Mr. Moon"===n.context.$implicit.from,"You"===n.context.$implicit.from))},function(l,n){l(n,4,0,u["ɵinlineInterpolate"](1,"http://haziqhassan.zazrj.com/mobilemaipk/imgwebhost/",n.context.$implicit.from,""));l(n,13,0,n.context.$implicit.text);l(n,19,0,n.context.$implicit.from)})}function o(l){return u["ɵvid"](0,[u["ɵqud"](402653184,1,{content:0}),(l()(),u["ɵeld"](1,0,null,null,18,"ion-header",[["class","headertop"],["no-border",""]],null,null,null,null,null)),u["ɵdid"](2,16384,null,0,R.a,[C.a,u.ElementRef,u.Renderer,[2,k.a]],null,null),(l()(),u["ɵted"](-1,null,["\n  "])),(l()(),u["ɵand"](16777216,null,null,1,null,t)),u["ɵdid"](5,16384,null,0,w.j,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["ɵted"](-1,null,["\n  "])),(l()(),u["ɵeld"](7,0,null,null,11,"div",[["class","container"]],null,null,null,null,null)),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵeld"](9,0,null,null,0,"img",[["class","ghost"],["src","assets/imgs/moon.png"],["width","120px"]],null,null,null,null,null)),(l()(),u["ɵted"](-1,null,["\n\n    "])),(l()(),u["ɵeld"](11,0,null,null,6,"p",[["class","shadowFrame"]],null,null,null,null,null)),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵeld"](13,0,null,null,3,":svg:svg",[[":xml:space","preserve"],[":xmlns:xlink","http://www.w3.org/1999/xlink"],["class","shadow"],["enable-background","new 0 0 122.436 39.744"],["height","39.744px"],["id","Layer_1"],["version","1.1"],["viewBox","0 0 122.436 39.744"],["width","122.436px"],["x","61px"],["xmlns","http://www.w3.org/2000/svg"],["y","20px"]],null,null,null,null,null)),(l()(),u["ɵted"](-1,null,["\n         "])),(l()(),u["ɵeld"](15,0,null,null,0,":svg:ellipse",[["cx","63.500"],["cy","8.872"],["fill","#013E51"],["rx","49.25"],["ry","8.916"]],null,null,null,null,null)),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵted"](-1,null,["\n  "])),(l()(),u["ɵted"](-1,null,["\n"])),(l()(),u["ɵted"](-1,null,["\n"])),(l()(),u["ɵeld"](21,0,null,null,5,"ion-content",[["class","bggg"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,D.b,D.a)),u["ɵdid"](22,4374528,[[1,4]],0,B.a,[C.a,T.a,L.a,u.ElementRef,u.Renderer,I.a,P.a,u.NgZone,[2,k.a],[2,S.a]],null,null),(l()(),u["ɵted"](-1,1,["\n\n  "])),(l()(),u["ɵand"](16777216,null,1,1,null,s)),u["ɵdid"](25,802816,null,0,w.i,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),u["ɵted"](-1,1,["\n"])),(l()(),u["ɵted"](-1,null,["\n\n"])),(l()(),u["ɵeld"](28,0,null,null,30,"ion-footer",[],null,null,null,null,null)),u["ɵdid"](29,16384,null,0,E.a,[C.a,u.ElementRef,u.Renderer,[2,k.a]],null,null),(l()(),u["ɵted"](-1,null,["\n  "])),(l()(),u["ɵeld"](31,0,null,null,26,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var t=!0,s=l.component;if("submit"===n){t=!1!==u["ɵnov"](l,33).onSubmit(e)&&t}if("reset"===n){t=!1!==u["ɵnov"](l,33).onReset()&&t}if("submit"===n){t=!1!==s.sendMessage(s.chatBox)&&t}return t},null,null)),u["ɵdid"](32,16384,null,0,a.q,[],null,null),u["ɵdid"](33,540672,null,0,a.g,[[8,null],[8,null]],{form:[0,"form"]},null),u["ɵprd"](2048,null,a.b,null,[a.g]),u["ɵdid"](35,16384,null,0,a.l,[a.b],null,null),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵeld"](37,0,null,null,19,"ion-item",[["class","item item-block"]],null,null,null,_.b,_.a)),u["ɵdid"](38,1097728,null,3,j.a,[N.a,C.a,u.ElementRef,u.Renderer,[2,A.a]],null,null),u["ɵqud"](335544320,2,{contentLabel:0}),u["ɵqud"](603979776,3,{_buttons:1}),u["ɵqud"](603979776,4,{_icons:1}),u["ɵdid"](42,16384,null,0,F.a,[],null,null),(l()(),u["ɵted"](-1,2,["\n      "])),(l()(),u["ɵeld"](44,0,null,3,4,"ion-input",[["formControlName","message"],["placeholder","What's on your mind sunshine?"],["text-lowercase",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,e){var t=!0;if("ngModelChange"===n){t=!1!==(l.component.chatBox=e)&&t}return t},$.b,$.a)),u["ɵdid"](45,671744,null,0,a.f,[[3,a.b],[8,null],[8,null],[8,null]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u["ɵprd"](2048,null,a.j,null,[a.f]),u["ɵdid"](47,16384,null,0,a.k,[a.j],null,null),u["ɵdid"](48,5423104,null,0,O.a,[C.a,T.a,N.a,I.a,u.ElementRef,u.Renderer,[2,B.a],[2,j.a],[2,a.j],L.a],{placeholder:[0,"placeholder"]},null),(l()(),u["ɵted"](-1,2,["\n      "])),(l()(),u["ɵeld"](50,0,null,4,5,"button",[["clear",""],["ion-button",""],["item-end",""]],null,[[null,"click"]],function(l,n,e){var t=!0,s=l.component;if("click"===n){t=!1!==s.sendMessage(s.chatBox)&&t}return t},q.b,q.a)),u["ɵdid"](51,1097728,[[3,4]],0,V.a,[[8,""],C.a,u.ElementRef,u.Renderer],{clear:[0,"clear"]},null),(l()(),u["ɵted"](-1,0,["\n        "])),(l()(),u["ɵeld"](53,0,null,0,1,"ion-icon",[["class","footer-btn"],["name","send"],["role","img"]],[[2,"hide",null]],null,null,null,null)),u["ɵdid"](54,147456,null,0,Y.a,[C.a,u.ElementRef,u.Renderer],{name:[0,"name"]},null),(l()(),u["ɵted"](-1,0,["\n      "])),(l()(),u["ɵted"](-1,2,["\n    "])),(l()(),u["ɵted"](-1,null,["\n  "])),(l()(),u["ɵted"](-1,null,["\n"])),(l()(),u["ɵted"](-1,null,["\n"]))],function(l,n){var e=n.component;l(n,5,0,e.isLoading);l(n,25,0,e.messages);l(n,33,0,e.messageForm);l(n,45,0,"message",e.chatBox);l(n,48,0,"What's on your mind sunshine?");l(n,51,0,"");l(n,54,0,"send")},function(l,n){l(n,21,0,u["ɵnov"](n,22).statusbarPadding,u["ɵnov"](n,22)._hasRefresher);l(n,31,0,u["ɵnov"](n,35).ngClassUntouched,u["ɵnov"](n,35).ngClassTouched,u["ɵnov"](n,35).ngClassPristine,u["ɵnov"](n,35).ngClassDirty,u["ɵnov"](n,35).ngClassValid,u["ɵnov"](n,35).ngClassInvalid,u["ɵnov"](n,35).ngClassPending);l(n,44,0,u["ɵnov"](n,47).ngClassUntouched,u["ɵnov"](n,47).ngClassTouched,u["ɵnov"](n,47).ngClassPristine,u["ɵnov"](n,47).ngClassDirty,u["ɵnov"](n,47).ngClassValid,u["ɵnov"](n,47).ngClassInvalid,u["ɵnov"](n,47).ngClassPending);l(n,53,0,u["ɵnov"](n,54)._hidden)})}Object.defineProperty(n,"__esModule",{value:!0});var u=e(0),a=(e(5),e(83),e(14)),i=e(55),r=function(){function l(l,n,e,t,s){this.platform=l,this.formBuilder=n,this.authService=e,this.loadingCtrl=t,this.toastCtrl=s,this.accessToken="4cbf55627a664ccdb21171d56789213c",this.messages=[],this.userPostData={user_id:"",token:""},this.agentPostData=[];var o=JSON.parse(localStorage.getItem("userData"));this.userDetails=o.userData,this.userPostData.user_id=this.userDetails.user_id,this.userPostData.token=this.userDetails.token,this.getAgent(),this.chatBox="",this.messageForm=n.group({message:new a.e("")})}return l.prototype.getAgent=function(){var l=this,n=this.loadingCtrl.create({cssClass:"transparent",content:'\n        <img src="assets/imgs/moon.png" class="ghost" width="80px"/>\n        <p class="fonts">Please wait..</p>',spinner:"hide"});n.present(),this.authService.postData(this.userPostData,"chatbot").then(function(e){l.responseData=e,l.responseData.feedData?(localStorage.setItem("chatbot",JSON.stringify(l.responseData)),l.dataSet=l.responseData.feedData,console.log(l.dataSet),l.allAgent(),n.dismiss()):(l.sendNotification("Something wrong, check your internet connection"),n.dismiss())},function(l){n.dismiss()})},l.prototype.sendMessage=function(l){if(l&&""!==l){this.messages.push({from:"You",text:l}),this.isLoading=!0,console.log(l);var n=l.split(" ");console.log(n);for(var e=0;e<n.length;e++)"problem"==n[e]?(this.messages.push({from:"Mr. Moon",text:"Please share if you dont mind, I won't judge you"}),this.scrollToBottom(),this.isLoading=!1):"hi"==n[e]?(this.messages.push({from:"Mr. Moon",text:"Hi there! I am Mr.Moon, how are you feeling today?"}),this.scrollToBottom(),this.isLoading=!1):"great"==n[e]?(this.messages.push({from:"Mr. Moon",text:"Nice! glad to hear that."}),this.messages.push({from:"Mr. Moon",text:"If you need someone to listen to your problem, just find me here."}),this.scrollToBottom(),this.isLoading=!1):"bad"==n[e]?(this.messages.push({from:"Mr. Moon",text:"Why dear? anything happen?"}),this.scrollToBottom(),this.isLoading=!1):"hmm"==n[e]?(this.messages.push({from:"Mr. Moon",text:"Looks like you're not okay. Mind to share anything dear?"}),this.scrollToBottom(),this.isLoading=!1):"done"==n[e]?(this.messages.push({from:"Mr. Moon",text:"Hmm i see. Look Bad things can happen, and often do. But they only take up a few pages of your story, and anyone can survive a few pages."}),this.messages.push({from:"Mr. Moon",text:"You will feel better after this, just stay strong alright :)"}),this.messages.push({from:"Mr. Moon",text:"How are you feeling now?"}),this.scrollToBottom(),this.isLoading=!1):"better"==n[e]?(this.messages.push({from:"Mr. Moon",text:"Nice! glad to hear that."}),this.messages.push({from:"Mr. Moon",text:"If you need someone to listen to your problem, just find me here."}),this.scrollToBottom(),this.isLoading=!1):"worse"==n[e]?(this.messages.push({from:"Mr. Moon",text:"If you still feel bad, feel free to apply meeting in this app. Your meeting will be handle by counsellor. All counsellor listed in this app are come from Counselling Centre, UPSI"}),this.messages.push({from:"Mr. Moon",text:"They are professional, they will able to help you :). And don't worry, they good at keeping secrets ;)"}),this.scrollToBottom(),this.isLoading=!1):"later"==n[e]?(this.messages.push({from:"Mr. Moon",text:"Alright no worries. See ya :)"}),this.scrollToBottom(),this.isLoading=!1):"alright"==n[e]&&(this.messages.push({from:"Mr. Moon",text:"Great. Anything just find me here."}),this.messages.push({from:"Mr. Moon",text:";)"}),this.scrollToBottom(),this.isLoading=!1);this.chatBox=""}},l.prototype.allAgent=function(){JSON.parse(localStorage.getItem("chatbot"))},l.prototype.scrollToBottom=function(){var l=this;setTimeout(function(){l.content.scrollToBottom()},100)},l.prototype.sendNotification=function(l){this.toastCtrl.create({message:l,duration:3e3,cssClass:"toast-container",position:"bottom"}).present()},l}(),d=function(){return function(){}}(),m=e(213),h=e(214),c=e(215),g=e(216),p=e(217),f=e(218),v=e(219),b=e(220),y=e(221),M=e(226),x=e(62),C=e(1),w=e(17),R=e(138),k=e(4),D=e(222),B=e(21),T=e(3),L=e(9),I=e(8),P=e(25),S=e(20),E=e(143),_=e(131),j=e(15),N=e(12),A=e(39),F=e(56),$=e(223),O=e(60),q=e(33),V=e(19),Y=e(37),H=e(58),J=e(57),z=u["ɵcrt"]({encapsulation:2,styles:[],data:{}}),U=u["ɵccf"]("page-page2",r,function(l){return u["ɵvid"](0,[(l()(),u["ɵeld"](0,0,null,null,1,"page-page2",[],null,null,null,o,z)),u["ɵdid"](1,49152,null,0,r,[T.a,a.d,i.a,H.a,J.a],null,null)],null,null)},{},{},[]),W=e(130),K=e(38);e.d(n,"Page2PageModuleNgFactory",function(){return G});var G=u["ɵcmf"](d,[],function(l){return u["ɵmod"]([u["ɵmpd"](512,u.ComponentFactoryResolver,u["ɵCodegenComponentFactoryResolver"],[[8,[m.a,h.a,c.a,g.a,p.a,f.a,v.a,b.a,y.a,U]],[3,u.ComponentFactoryResolver],u.NgModuleRef]),u["ɵmpd"](4608,w.l,w.k,[u.LOCALE_ID,[2,w.t]]),u["ɵmpd"](4608,a.r,a.r,[]),u["ɵmpd"](4608,a.d,a.d,[]),u["ɵmpd"](512,w.b,w.b,[]),u["ɵmpd"](512,a.p,a.p,[]),u["ɵmpd"](512,a.h,a.h,[]),u["ɵmpd"](512,a.n,a.n,[]),u["ɵmpd"](512,W.a,W.a,[]),u["ɵmpd"](512,W.b,W.b,[]),u["ɵmpd"](512,d,d,[]),u["ɵmpd"](256,K.a,r,[])])})}});